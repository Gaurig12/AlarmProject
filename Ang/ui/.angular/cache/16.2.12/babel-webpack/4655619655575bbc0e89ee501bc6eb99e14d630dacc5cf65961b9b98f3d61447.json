{"ast":null,"code":"// import { Component, OnInit } from '@angular/core';\n// import { AlarmService } from '../data.service';\n// import { Alarm } from '../app.model';\nimport { __decorate } from \"tslib\";\n// @Component({\n//   selector: 'app-read',\n//   templateUrl: './read.component.html',\n//   styleUrls: ['./read.component.css']\n// })\n// export class ReadComponent {\n//    alarms: Alarm[] = []; // Initialize with an empty array\n//  public databaseData: any;\n//   constructor(private AlarmService: AlarmService) {}\n//   ngOnInit(): void {\n//     this.AlarmService.getData().subscribe(data => {\n//       this.databaseData = data;\n//     });\n//   }\n//  selectedItem: any;\n//   showDetails(item: any): void {\n//     this.databaseData.forEach(data => {\n//       if (data !== item) {\n//         data.showDetails = false; // Hide details of other rows\n//       }\n//     });\n//     item.showDetails = !item.showDetails; // Toggle details for the clicked row\n//     this.selectedItem = item.showDetails ? item : null;\n// }\n//  editAlarm(alarm: Alarm): void {\n//     // Here you can implement logic to open an edit form or dialog for the selected alarm\n//     console.log('Editing alarm:', alarm);\n//   }\n//   deleteAlarm(id: number): void {\n//     if (confirm('Are you sure you want to delete this alarm?')) {\n//       this.AlarmService.deleteAlarm(id).subscribe(() => {\n//         // Remove the deleted alarm from the local array\n//         this.alarms = this.alarms.filter(a => a.id !== id);\n//         console.log('Alarm deleted successfully');\n//       }, error => {\n//         console.error('Error deleting alarm:', error);\n//         // Optionally, display an error message to the user\n//       });\n//     }\n// }}\nimport { Component } from '@angular/core';\nlet AlarmComponent = class AlarmComponent {\n  constructor(AlarmService) {\n    this.AlarmService = AlarmService;\n    this.alarms = []; // Initialize with an empty array\n    this.selectedAlarm = null; // Initialize selectedAlarm as null\n    this.showEditForm = false;\n  }\n  ngOnInit() {\n    this.loadAlarms();\n  }\n  loadAlarms() {\n    this.AlarmService.getAlarms().subscribe(alarms => {\n      this.alarms = alarms;\n      console.log('Alarms:', alarms); // Add a console.log statement to check if alarms are received\n    }, error => {\n      console.error('Error loading alarms:', error);\n    });\n  }\n  editAlarm(alarm) {\n    this.selectedAlarm = alarm;\n    this.showEditForm = false; // Close edit form when selecting a new alarm\n  }\n\n  toggleEditForm() {\n    this.showEditForm = !this.showEditForm;\n  }\n  submitEditForm() {\n    if (this.selectedAlarm) {\n      const scrollPosition = window.pageYOffset;\n      this.AlarmService.updateAlarm(this.selectedAlarm).subscribe(updatedAlarm => {\n        const index = this.alarms.findIndex(a => a.id === updatedAlarm.id);\n        if (index !== -1) {\n          this.alarms[index] = updatedAlarm;\n        }\n        console.log('Alarm updated successfully');\n        this.selectedAlarm = null;\n        this.showEditForm = false;\n        window.scrollTo(0, scrollPosition); // Maintain scroll position\n      }, error => {\n        console.error('Error updating alarm:', error);\n      });\n    }\n  }\n  cancelEdit() {\n    this.selectedAlarm = null;\n    this.showEditForm = false;\n  }\n  deleteAlarm(id) {\n    if (confirm('Are you sure you want to delete this alarm?')) {\n      this.AlarmService.deleteAlarm(id).subscribe(() => {\n        // Remove the deleted alarm from the local array\n        this.alarms = this.alarms.filter(a => a.id !== id);\n        console.log('Alarm deleted successfully');\n      }, error => {\n        console.error('Error deleting alarm:', error);\n        // Optionally, display an error message to the user\n      });\n    }\n  }\n};\n\nAlarmComponent = __decorate([Component({\n  selector: 'app-read',\n  templateUrl: './read.component.html',\n  styleUrls: ['./read.component.css']\n})], AlarmComponent);\nexport { AlarmComponent };","map":{"version":3,"names":["Component","AlarmComponent","constructor","AlarmService","alarms","selectedAlarm","showEditForm","ngOnInit","loadAlarms","getAlarms","subscribe","console","log","error","editAlarm","alarm","toggleEditForm","submitEditForm","scrollPosition","window","pageYOffset","updateAlarm","updatedAlarm","index","findIndex","a","id","scrollTo","cancelEdit","deleteAlarm","confirm","filter","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\guptgau03\\Downloads\\Alarm-final-main\\Alarm-final-main\\Ang\\ui\\src\\app\\read\\read.component.ts"],"sourcesContent":["// import { Component, OnInit } from '@angular/core';\n// import { AlarmService } from '../data.service';\n// import { Alarm } from '../app.model';\n\n// @Component({\n//   selector: 'app-read',\n//   templateUrl: './read.component.html',\n//   styleUrls: ['./read.component.css']\n// })\n\n// export class ReadComponent {\n//    alarms: Alarm[] = []; // Initialize with an empty array\n//  public databaseData: any;\n\n//   constructor(private AlarmService: AlarmService) {}\n\n//   ngOnInit(): void {\n//     this.AlarmService.getData().subscribe(data => {\n//       this.databaseData = data;\n//     });\n//   }\n//  selectedItem: any;\n//   showDetails(item: any): void {\n//     this.databaseData.forEach(data => {\n//       if (data !== item) {\n//         data.showDetails = false; // Hide details of other rows\n//       }\n//     });\n//     item.showDetails = !item.showDetails; // Toggle details for the clicked row\n//     this.selectedItem = item.showDetails ? item : null;\n// }\n//  editAlarm(alarm: Alarm): void {\n//     // Here you can implement logic to open an edit form or dialog for the selected alarm\n//     console.log('Editing alarm:', alarm);\n//   }\n\n//   deleteAlarm(id: number): void {\n//     if (confirm('Are you sure you want to delete this alarm?')) {\n//       this.AlarmService.deleteAlarm(id).subscribe(() => {\n//         // Remove the deleted alarm from the local array\n//         this.alarms = this.alarms.filter(a => a.id !== id);\n//         console.log('Alarm deleted successfully');\n//       }, error => {\n//         console.error('Error deleting alarm:', error);\n//         // Optionally, display an error message to the user\n//       });\n//     }\n// }}\nimport { Component, OnInit } from '@angular/core';\nimport { Alarm } from '../app.model';\nimport { AlarmService } from '../data.service';\n\n@Component({\n  selector: 'app-read',\n  templateUrl: './read.component.html',\n  styleUrls: ['./read.component.css']\n})\nexport class AlarmComponent  implements OnInit {\n  alarms: Alarm[] = []; // Initialize with an empty array\n  selectedAlarm: Alarm | null = null; // Initialize selectedAlarm as null\n  showEditForm = false;\n  constructor(private AlarmService: AlarmService) { }\n\n  ngOnInit(): void {\n    this.loadAlarms();\n  }\n\n  loadAlarms(): void {\n    this.AlarmService.getAlarms().subscribe(\n      (alarms: Alarm[]) => {\n        this.alarms = alarms;\n        console.log('Alarms:', alarms); // Add a console.log statement to check if alarms are received\n      },\n      (error) => {\n        console.error('Error loading alarms:', error);\n      }\n    );\n  }\n  \n\n  editAlarm(alarm: Alarm): void {\n    this.selectedAlarm = alarm;\n    this.showEditForm = false; // Close edit form when selecting a new alarm\n  }\n\n  toggleEditForm(): void {\n    this.showEditForm = !this.showEditForm;\n  }\n\n  submitEditForm(): void {\n    if (this.selectedAlarm) {\n      const scrollPosition = window.pageYOffset;\n      this.AlarmService.updateAlarm(this.selectedAlarm).subscribe(\n        (updatedAlarm: Alarm) => {\n          const index = this.alarms.findIndex(a => a.id === updatedAlarm.id);\n          if (index !== -1) {\n            this.alarms[index] = updatedAlarm;\n          }\n          console.log('Alarm updated successfully');\n          this.selectedAlarm = null;\n          this.showEditForm = false;\n          window.scrollTo(0, scrollPosition); // Maintain scroll position\n        },\n        (error) => {\n          console.error('Error updating alarm:', error);\n        }\n      );\n    }\n  }\n  \n\n  cancelEdit(): void {\n    this.selectedAlarm = null;\n    this.showEditForm = false;\n  }\n\n\n  deleteAlarm(id: number): void {\n    if (confirm('Are you sure you want to delete this alarm?')) {\n      this.AlarmService.deleteAlarm(id).subscribe(() => {\n        // Remove the deleted alarm from the local array\n        this.alarms = this.alarms.filter(a => a.id !== id);\n        console.log('Alarm deleted successfully');\n      }, error => {\n        console.error('Error deleting alarm:', error);\n        // Optionally, display an error message to the user\n      });\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}